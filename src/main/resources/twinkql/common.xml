<?xml version="1.0" encoding="UTF-8"?>
<sparqlMap namespace="common"
	xmlns="http://mayo.edu/twinkql" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	
	<compositeResultMap id="resourceDescriptionResultMap" >
		<tripleMap var="o" varType="literalValue" predicateUri="http://purl.bioontology.org/ontology/bioportal/uri" beanProperty="about"/>
		<tripleMap var="o" varType="literalValue" predicateUri="http://purl.bioontology.org/ontology/bioportal/description" beanProperty="resourceSynopsis.value.content"/>
		<tripleMap var="o" varType="literalValue" predicateUri="http://purl.bioontology.org/ontology/bioportal/displayLabel" beanProperty="formalName"/>
		<tripleMap resultMapping="common:propertyPropertyResultMap" 
			predicateUri="http://www.w3.org/1999/02/22-rdf-syntax-ns#type" 
			beanProperty="propertyAsReference[]"/>
		<tripleMap resultMapping="common:literalPropertyResultMap" predicateUri="*" beanProperty="propertyAsReference[]"/>	
	</compositeResultMap>
	
	<compositeResultMap id="propertyPropertyResultMap" resultClass="edu.mayo.cts2.framework.model.core.Property">
		<tripleMap predicateUri="*" var="p" varType="uri" beanProperty="predicate.uri"/>
		<tripleMap predicateUri="*" var="p" varType="namespace" beanProperty="predicate.namespace"
			modifier="spring:namespaceModifier"/>
		<tripleMap predicateUri="*" var="p" varType="localName" beanProperty="predicate.name"/>
		<tripleMap predicateUri="*" var="o" varType="uri" beanProperty="valueAsReference[0].entity.uri"/>
		<tripleMap predicateUri="*" var="o" varType="namespace" beanProperty="valueAsReference[0].entity.namespace"
			modifier="spring:namespaceModifier"/>
		<tripleMap predicateUri="*" var="o" varType="localName" beanProperty="valueAsReference[0].entity.name"/>	
	</compositeResultMap>
	
	<compositeResultMap id="literalPropertyResultMap" resultClass="edu.mayo.cts2.framework.model.core.Property">
		<tripleMap predicateUri="*" var="p" varType="uri" beanProperty="predicate.uri"/>
		<tripleMap predicateUri="*" var="p" varType="namespace" beanProperty="predicate.namespace"
			modifier="spring:namespaceModifier"/>
		<tripleMap predicateUri="*" var="p" varType="localName" beanProperty="predicate.name"/>
		<tripleMap predicateUri="*" var="o" varType="literalValue" beanProperty="valueAsReference[0].literal.value.content"/>
	</compositeResultMap>
	
	<compositeResultMap id="abstractResourceDescriptionResultMap" extends="common:resourceDescriptionResultMap" >
		<tripleMap 
			var="o" 
			varType="literalValue" 
			predicateUri="http://purl.bioontology.org/ontology/bioportal/format" 
			beanProperty="releaseFormatAsReference[].sourceAndNotationDescription"/>
	</compositeResultMap>
	
</sparqlMap>
